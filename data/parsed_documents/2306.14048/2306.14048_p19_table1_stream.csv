"Table of Contents","","","","","","","","","","","","","","","","",""
"","A More Implementation Details","","","","","","","","","","","","","","","","20"
"B","Extended Related Works, Discussions, and Limitations","","","","","","","","","","","","","","","","21"
"","B.1
Extended Related Works .
.
.
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","21"
"","B.2
Discussions and Limitations
.
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","21"
"C","Extended Experiments","","","","","","","","","","","","","","","","23"
"","C.1
Increased Diversity of Generated Text
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","23"
"","C.2","Throughput Improvement of H2O Combining with Quantization","","","","","",".",".",".",".",".",".",".",".",".","24"
"","C.3
Effectiveness on Zero-shot and One-shot Inference
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","25"
"","C.4
Comparison with StreamingLLM .
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","25"
"","C.5
Enhancing the ""Top-K"" Baseline
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","26"
"","C.6
Separate Effects of Heavy-Hitter and Local Tokens
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","26"
"","C.7","Performance of Inference with Different Number of Shots.","","",".",".",".",".",".",".",".",".",".",".",".",".","26"
"","C.8
Heavy-Hitter in Attention Blocks
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","27"
"","C.9
Comparsion with SpAtten
.
.
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","27"
"","C.10 Heavy-Hitter in MLP Blocks
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","27"
"D","Theoretical Analysis","","","","","","","","","","","","","","","","32"
"","D.1
Notations
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","32"
"","D.2
Submodular
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","33"
"","D.3
Dynamic Submodular
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","34"
"","D.4
Static Attention
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","34"
"","D.5
Recursive Attention Definition
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","34"
"","D.6
Eviction Policy
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","36"
"","D.7","Explaining Submodular Diminishing Return Property in Attention Scheme","","","","","","","","","","","",".",".",".","37"
"","D.8
Submodular: High Level Ideas
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","38"
"","D.9
Robust Greedy with Error Propagation
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","38"
"","D.10 Robust Submodular and Adding Items
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","39"
"","D.11 Universal Conditions
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","40"
"","D.12 Induction Lemma for Exact Function
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","40"
"","D.13 Induction Lemma for Approximate Function
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","41"
"","D.14 Theoretical Result
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","42"
"","","D.15 Extended Related Work for Theoretical Attention Problems","","","",".",".",".",".",".",".",".",".",".",".",".","43"
"","D.16 Sparsity Preserving
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","43"
"","D.17 Definition of Loss Function
.
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","44"
"","D.18 Gradient
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","45"
"","D.19 Hessian
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","46"
"","D.20 Hessian is Positive Definite
.
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","46"
"","D.21 Hessian is Lipschitz
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","47"
"","D.22 Greedy Type Algorithm .
.
.
.
.
.
.
.
.
.
.
.
.
.
.",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","48"
